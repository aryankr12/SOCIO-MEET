{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/itachi/Desktop/sociomeet/client/src/components/landing_comp/signin.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { userContext } from '../../App';\nimport M from 'materialize-css';\n\nconst SignIn = () => {\n  _s();\n\n  const {\n    state,\n    dispatch\n  } = useContext(userContext);\n  const history = useHistory();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const PostData = () => {\n    /*Form validation using regex js*/\n    if (!/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)) {\n      return M.toast({\n        html: \"Please use a valid Email Address\",\n        classes: '#e53935 red darken-1 rounded'\n      });\n    } else if (!/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\\s).{8,15}$/.test(password)) {\n      return M.toast({\n        html: \"Please use a password between 8-15 characters having atleast 1[0-9],1[A-Z],1[a-z]&1[@#$%^*&~]\",\n        classes: '#e53935 red darken-1 rounded'\n      });\n    }\n\n    fetch(\"http://localhost:5000/signin\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email: email,\n        password: password\n      })\n    }).then(res => res.json()).then(data => {\n      console.log(data);\n\n      if (data.error) {\n        M.toast({\n          html: data.error,\n          classes: '#e53935 red darken-1 rounded'\n        });\n      } else {\n        localStorage.setItem(\"jwt\", data.token);\n        localStorage.setItem(\"user\", JSON.stringify(data.user));\n        dispatch({\n          type: \"USER\",\n          payload: data.user\n        });\n        M.toast({\n          html: \"login success\",\n          classes: '#43a047 green darken-1 rounded'\n        });\n        history.push('/');\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mycard\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card auth-card input-field\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Sociomeet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-field col\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"material-icons prefix\",\n          children: \"account_circle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"icon_prefix\",\n          type: \"text\",\n          className: \"validate\",\n          placeholder: \"Email\",\n          value: email,\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-field col \",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"material-icons prefix\",\n          children: \"vpn_key\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"icon_prefix1\",\n          type: \"password\",\n          className: \"validate\",\n          placeholder: \"Password\",\n          value: password,\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn waves-effect waves-light #01579b light-blue darken-4 \",\n        onClick: () => PostData(),\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: [\"Dont have a account?\", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"./signup\",\n          children: \"Sign up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n        children: [\"forgot password\", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"./reset\",\n          children: \"forgot-password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SignIn, \"YuucjsxLH41ltdSejmGAgk2aJyw=\", false, function () {\n  return [useHistory];\n});\n\n_c = SignIn;\nexport default SignIn;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignIn\");","map":{"version":3,"sources":["/home/itachi/Desktop/sociomeet/client/src/components/landing_comp/signin.js"],"names":["React","useState","useContext","Link","useHistory","userContext","M","SignIn","state","dispatch","history","email","setEmail","password","setPassword","PostData","test","toast","html","classes","fetch","method","headers","body","JSON","stringify","then","res","json","data","console","log","error","localStorage","setItem","token","user","type","payload","push","catch","e","target","value"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAuBC,UAAvB,QAAwC,OAAxC;AACA,SAAQC,IAAR,EAAaC,UAAb,QAA8B,kBAA9B;AACA,SAAQC,WAAR,QAA0B,WAA1B;AACA,OAAOC,CAAP,MAAc,iBAAd;;AACA,MAAMC,MAAM,GAAE,MAAI;AAAA;;AACd,QAAM;AAACC,IAAAA,KAAD;AAAOC,IAAAA;AAAP,MAAmBP,UAAU,CAACG,WAAD,CAAnC;AACA,QAAMK,OAAO,GAAGN,UAAU,EAA1B;AACI,QAAM,CAACO,KAAD,EAAOC,QAAP,IAAmBX,QAAQ,CAAC,EAAD,CAAjC;AACA,QAAM,CAACY,QAAD,EAAUC,WAAV,IAAyBb,QAAQ,CAAC,EAAD,CAAvC;;AACA,QAAMc,QAAQ,GAAG,MAAK;AAClB;AACA,QAAG,CAAC,wJAAwJC,IAAxJ,CAA6JL,KAA7J,CAAJ,EACA;AACI,aAAOL,CAAC,CAACW,KAAF,CAAQ;AAACC,QAAAA,IAAI,EAAC,kCAAN;AAAyCC,QAAAA,OAAO,EAAC;AAAjD,OAAR,CAAP;AACH,KAHD,MAIK,IAAI,CAAC,oEAAoEH,IAApE,CAAyEH,QAAzE,CAAL,EACL;AACI,aAAOP,CAAC,CAACW,KAAF,CAAQ;AAACC,QAAAA,IAAI,EAAC,+FAAN;AAAsGC,QAAAA,OAAO,EAAC;AAA9G,OAAR,CAAP;AACH;;AACDC,IAAAA,KAAK,CAAC,8BAAD,EAAgC;AACrCC,MAAAA,MAAM,EAAC,MAD8B;AAErCC,MAAAA,OAAO,EAAC;AACJ,wBAAe;AADX,OAF6B;AAKrCC,MAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;AAChBd,QAAAA,KAAK,EAACA,KADU;AAEhBE,QAAAA,QAAQ,EAACA;AAFO,OAAf;AALgC,KAAhC,CAAL,CASDa,IATC,CASIC,GAAG,IAAEA,GAAG,CAACC,IAAJ,EATT,EAUHF,IAVG,CAUEG,IAAI,IAAE;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;;AACJ,UAAGA,IAAI,CAACG,KAAR,EAAc;AACV1B,QAAAA,CAAC,CAACW,KAAF,CAAQ;AAACC,UAAAA,IAAI,EAACW,IAAI,CAACG,KAAX;AAAiBb,UAAAA,OAAO,EAAC;AAAzB,SAAR;AACH,OAFD,MAGI;AACAc,QAAAA,YAAY,CAACC,OAAb,CAAqB,KAArB,EAA2BL,IAAI,CAACM,KAAhC;AACAF,QAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA4BV,IAAI,CAACC,SAAL,CAAeI,IAAI,CAACO,IAApB,CAA5B;AACA3B,QAAAA,QAAQ,CAAC;AAAC4B,UAAAA,IAAI,EAAC,MAAN;AAAaC,UAAAA,OAAO,EAACT,IAAI,CAACO;AAA1B,SAAD,CAAR;AACA9B,QAAAA,CAAC,CAACW,KAAF,CAAQ;AAACC,UAAAA,IAAI,EAAC,eAAN;AAAsBC,UAAAA,OAAO,EAAC;AAA9B,SAAR;AACAT,QAAAA,OAAO,CAAC6B,IAAR,CAAa,GAAb;AACH;AACJ,KAtBD,EAsBGC,KAtBH,CAsBSR,KAAK,IAAE;AACZF,MAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACH,KAxBD;AAyBH,GAnCD;;AAoCJ,sBACI;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA,2BACI;AAAK,MAAA,SAAS,EAAC,4BAAf;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA,gCACA;AAAG,UAAA,SAAS,EAAC,uBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA,eAEA;AACI,UAAA,EAAE,EAAC,aADP;AAEI,UAAA,IAAI,EAAC,MAFT;AAGI,UAAA,SAAS,EAAC,UAHd;AAII,UAAA,WAAW,EAAG,OAJlB;AAKI,UAAA,KAAK,EAAErB,KALX;AAMI,UAAA,QAAQ,EAAG8B,CAAD,IAAK7B,QAAQ,CAAC6B,CAAC,CAACC,MAAF,CAASC,KAAV;AAN3B;AAAA;AAAA;AAAA;AAAA,gBAFA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAaI;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA,gCACA;AAAG,UAAA,SAAS,EAAC,uBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA,eAEA;AACI,UAAA,EAAE,EAAC,cADP;AAEI,UAAA,IAAI,EAAC,UAFT;AAGI,UAAA,SAAS,EAAC,UAHd;AAII,UAAA,WAAW,EAAG,UAJlB;AAKI,UAAA,KAAK,EAAE9B,QALX;AAMI,UAAA,QAAQ,EAAG4B,CAAD,IAAK3B,WAAW,CAAC2B,CAAC,CAACC,MAAF,CAASC,KAAV;AAN9B;AAAA;AAAA;AAAA;AAAA,gBAFA;AAAA;AAAA;AAAA;AAAA;AAAA,cAbJ,eAyBM;AAAQ,QAAA,SAAS,EAAC,2DAAlB;AACA,QAAA,OAAO,EAAE,MAAI5B,QAAQ,EADrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAzBN,eA6BI;AAAA,wDAEI,QAAC,IAAD;AAAM,UAAA,EAAE,EAAG,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cA7BJ,eAiCI;AAAA,mDACe,QAAC,IAAD;AAAM,UAAA,EAAE,EAAG,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADf;AAAA;AAAA;AAAA;AAAA;AAAA,cAjCJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAwCH,CAjFD;;GAAMR,M;UAEcH,U;;;KAFdG,M;AAmFN,eAAeA,MAAf","sourcesContent":["import React,{useState,useContext} from 'react'\nimport {Link,useHistory} from 'react-router-dom'\nimport {userContext} from '../../App'\nimport M from 'materialize-css'\nconst SignIn =()=>{\n    const {state,dispatch} = useContext(userContext)\n    const history = useHistory()\n        const [email,setEmail] = useState(\"\")\n        const [password,setPassword] = useState(\"\")\n        const PostData = () =>{\n            /*Form validation using regex js*/\n            if(!/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email))\n            {\n                return M.toast({html:\"Please use a valid Email Address\",classes:'#e53935 red darken-1 rounded'})\n            }\n            else if (!/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\\s).{8,15}$/.test(password))\n            {\n                return M.toast({html:\"Please use a password between 8-15 characters having atleast 1[0-9],1[A-Z],1[a-z]&1[@#$%^*&~]\",classes:'#e53935 red darken-1 rounded'})\n            }\n            fetch(\"http://localhost:5000/signin\",{\n            method:\"post\",\n            headers:{\n                \"Content-Type\":\"application/json\"\n            },\n            body:JSON.stringify({\n                email:email,\n                password:password\n            })\n        }).then(res=>res.json())\n        .then(data=>{\n                    console.log(data)\n                if(data.error){\n                    M.toast({html:data.error,classes:'#e53935 red darken-1 rounded'})\n                }\n                else{\n                    localStorage.setItem(\"jwt\",data.token)\n                    localStorage.setItem(\"user\",JSON.stringify(data.user))\n                    dispatch({type:\"USER\",payload:data.user})\n                    M.toast({html:\"login success\",classes:'#43a047 green darken-1 rounded'})\n                    history.push('/')\n                }\n            }).catch(error=>{\n                console.log(error)\n            })\n        }\n    return (\n        <div className=\"mycard\">\n            <div className=\"card auth-card input-field\">\n                <h2>Sociomeet</h2>\n                <div className=\"input-field col\">\n                <i className=\"material-icons prefix\">account_circle</i>\n                <input\n                    id=\"icon_prefix\"\n                    type=\"text\"\n                    className=\"validate\"\n                    placeholder = \"Email\"\n                    value={email}\n                    onChange={(e)=>setEmail(e.target.value)}\n                />\n                </div>\n                <div className=\"input-field col \">\n                <i className=\"material-icons prefix\">vpn_key</i>\n                <input\n                    id=\"icon_prefix1\"\n                    type=\"password\"\n                    className=\"validate\"\n                    placeholder = \"Password\"\n                    value={password}\n                    onChange={(e)=>setPassword(e.target.value)}\n                \n                />\n                </div>\n                  <button className=\"btn waves-effect waves-light #01579b light-blue darken-4 \" \n                  onClick={()=>PostData()}\n                  >Login\n                </button>\n                <h5>\n                    Dont have a account?\n                    <Link to = \"./signup\">Sign up</Link>\n                </h5>\n                <h6>\n                forgot password<Link to = \"./reset\">forgot-password</Link></h6>\n            </div>\n        </div>\n    )\n}\n\nexport default SignIn"]},"metadata":{},"sourceType":"module"}